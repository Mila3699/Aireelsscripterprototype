# üî¥ –ü–†–û–°–¢–û –°–î–ï–õ–ê–ô–¢–ï –≠–¢–û (1 –º–∏–Ω—É—Ç–∞)

## ‚ùå –£ –≤–∞—Å –æ—à–∏–±–∫–∞: "row-level security policy"

## ‚úÖ –†–µ—à–µ–Ω–∏–µ –∑–∞ 3 –∫–ª–∏–∫–∞:

---

### 1Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ:

```
https://supabase.com/dashboard/project/ssqcxrimivxqdydgmfcn/sql/new
```

**–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–Ω–∏—Ç–µ:**
üëâ [–û–¢–ö–†–´–¢–¨ SQL EDITOR](https://supabase.com/dashboard/project/ssqcxrimivxqdydgmfcn/sql/new)

---

### 2Ô∏è‚É£ –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç SQL –∫–æ–¥:

**–í—ã–¥–µ–ª–∏—Ç–µ –≤—Å—ë ‚Üí Ctrl+C (–∏–ª–∏ Cmd+C –Ω–∞ Mac):**

```sql
CREATE POLICY "Users can upload their own videos" ON storage.objects FOR INSERT TO authenticated WITH CHECK (bucket_id = 'make-f3dc28c4-videos' AND (storage.foldername(name))[1] = auth.uid()::text);
CREATE POLICY "Users can view their own videos" ON storage.objects FOR SELECT TO authenticated USING (bucket_id = 'make-f3dc28c4-videos' AND (storage.foldername(name))[1] = auth.uid()::text);
CREATE POLICY "Users can delete their own videos" ON storage.objects FOR DELETE TO authenticated USING (bucket_id = 'make-f3dc28c4-videos' AND (storage.foldername(name))[1] = auth.uid()::text);
CREATE POLICY "Users can update their own videos" ON storage.objects FOR UPDATE TO authenticated USING (bucket_id = 'make-f3dc28c4-videos' AND (storage.foldername(name))[1] = auth.uid()::text) WITH CHECK (bucket_id = 'make-f3dc28c4-videos' AND (storage.foldername(name))[1] = auth.uid()::text);
```

---

### 3Ô∏è‚É£ –í SQL Editor:

1. **–í—Å—Ç–∞–≤—å—Ç–µ** –∫–æ–¥ (Ctrl+V –∏–ª–∏ Cmd+V)
2. **–ù–∞–∂–º–∏—Ç–µ** –∫–Ω–æ–ø–∫—É **"Run"** (—Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞)
3. **–£–≤–∏–¥–∏—Ç–µ:** `Success. No rows returned`

---

### 4Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**F5** –∏–ª–∏ **Ctrl+R** (Cmd+R –Ω–∞ Mac)

---

## ‚úÖ –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

## üÜò –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è

### –û—à–∏–±–∫–∞: "policy already exists"

–ó–Ω–∞—á–∏—Ç –≤—Å—ë —É–∂–µ —Å–æ–∑–¥–∞–Ω–æ! –ü—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### SQL Editor –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –í–æ–π–¥–∏—Ç–µ –≤ Supabase
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç: `ssqcxrimivxqdydgmfcn`
3. –°–ª–µ–≤–∞ –Ω–∞–π–¥–∏—Ç–µ "SQL Editor"
4. –ù–∞–∂–º–∏—Ç–µ "New query"

### –í—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É (–º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∞):

```sql
ALTER TABLE storage.objects DISABLE ROW LEVEL SECURITY;
```

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor ‚Üí Run ‚Üí –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

---

## üì± –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å SQL"

–°–º–æ—Ç—Ä–∏—Ç–µ –∫—Ä–∞—Å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ:
- –ö–Ω–æ–ø–∫–∞ **"–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å SQL –∫–æ–¥"** - –∫–æ–ø–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ö–Ω–æ–ø–∫–∞ **"SQL Editor"** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä

---

## ‚ú® –ü–æ—á–µ–º—É —ç—Ç–æ –Ω—É–∂–Ω–æ?

Supabase —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤.

–≠—Ç–∏ 4 –∫–æ–º–∞–Ω–¥—ã —Å–æ–∑–¥–∞—é—Ç –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- ‚úÖ –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –≤–∏–¥–µ–æ
- ‚úÖ –ù–∏–∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —á—É–∂–∏–µ —Ñ–∞–π–ª—ã
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

## üéâ –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!

**–ó–∞–≥—Ä—É–∑–∫–∞ ‚Üí –ê–Ω–∞–ª–∏–∑ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Üí –ü–æ–∏—Å–∫**

–ù–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

**–í—Å—ë! –ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ! üöÄ**
