# üé¨ AI Reels Scripter - Backend

Backend —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–∏–¥–µ–æ (Reels, TikTok) —á–µ—Ä–µ–∑ Google Gemini AI.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 2. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cp .env.example .env

# 3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à Google AI API –∫–ª—é—á
# –ü–æ–ª—É—á–∏—Ç—å: https://aistudio.google.com/app/apikey

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
npm start

# –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π:
npm run dev
```

Server –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: **http://localhost:3001**

---

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ Google AI API –∫–ª—é—á–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://aistudio.google.com/app/apikey
2. –í–æ–π–¥–∏—Ç–µ –≤ Google –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–∂–º–∏—Ç–µ **"Create API key"**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (—Ñ–æ—Ä–º–∞—Ç: `AIzaSyB...`)
6. –í—Å—Ç–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª:
   ```env
   GOOGLE_AI_API_KEY=AIzaSyB...–≤–∞—à_–∫–ª—é—á
   ```

---

## üì° API Endpoints

### `GET /`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞.

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "service": "AI Reels Scripter Backend",
  "version": "1.0.0",
  "timestamp": "2025-11-11T...",
  "uptime": 123.45,
  "endpoints": {
    "analyze": "POST /api/analyze"
  }
}
```

### `GET /api/health`
–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞.

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "checks": {
    "apiKey": "configured",
    "memory": "45.23 MB",
    "uptime": "2.15 –º–∏–Ω—É—Ç"
  },
  "timestamp": "2025-11-11T..."
}
```

### `POST /api/analyze`
–ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ Google Gemini AI.

**–ó–∞–ø—Ä–æ—Å:**
- Method: `POST`
- Content-Type: `multipart/form-data`
- Body: `video` (—Ñ–∞–π–ª)

**–ü—Ä–∏–º–µ—Ä —Å curl:**
```bash
curl -X POST http://localhost:3001/api/analyze \
  -F "video=@/path/to/video.mp4"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "title": "–°–µ–∫—Ä–µ—Ç—ã –≤–∏—Ä—É—Å–Ω–æ—Å—Ç–∏",
  "original": {
    "transcription": "...",
    "translation": "..."
  },
  "keys": [
    {
      "title": "–ú–æ—â–Ω—ã–π —Ö—É–∫",
      "description": "..."
    }
  ],
  "script": [
    {
      "time": "0-3 —Å–µ–∫",
      "visual": "–ö—Ä—É–ø–Ω—ã–π –ø–ª–∞–Ω –ª–∏—Ü–∞",
      "text": "...",
      "note": "..."
    }
  ],
  "recommendations": [
    {
      "category": "–ò–Ω—Ç–æ–Ω–∞—Ü–∏—è",
      "text": "..."
    }
  ],
  "_metadata": {
    "processingTime": "12.34",
    "fileSize": "8.50",
    "fileName": "video.mp4",
    "timestamp": "2025-11-11T..."
  }
}
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: **100 –ú–ë**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: **MP4, MOV, WEBM**

---

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Render

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub –∫ Render**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://dashboard.render.com
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

2. **–°–æ–∑–¥–∞–π—Ç–µ Web Service**
   - New + ‚Üí Web Service
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:
     - Name: `ai-reels-backend`
     - Region: `Frankfurt (EU Central)`
     - Build Command: `npm install`
     - Start Command: `node server.js`

3. **Environment Variables**
   ```
   GOOGLE_AI_API_KEY=–≤–∞—à_–∫–ª—é—á
   PORT=10000
   FRONTEND_URL=*
   NODE_ENV=production
   ```

4. **Deploy!**
   - –ù–∞–∂–º–∏—Ç–µ "Create Web Service"
   - –ñ–¥–∏—Ç–µ 3-5 –º–∏–Ω—É—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://your-service.onrender.com/
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `"ok"`.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js** 18+
- **Express** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Multer** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- **Google Generative AI** - Gemini 1.5 Flash
- **CORS** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ cross-origin –∑–∞–ø—Ä–æ—Å–æ–≤
- **dotenv** - environment variables

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
my-backend/
‚îú‚îÄ‚îÄ server.js          # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ package.json       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ .env.example       # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ .env              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–æ–∑–¥–∞—Ç—å –∏–∑ .env.example)
‚îú‚îÄ‚îÄ .gitignore        # Git ignore –ø—Ä–∞–≤–∏–ª–∞
‚îî‚îÄ‚îÄ README.md         # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üîß Scripts

```bash
# –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
npm start

# –ó–∞–ø—É—Å–∫ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
npm run dev

# –¢–µ—Å—Ç
npm test
```

---

## üìà –õ–æ–≥–∏

Backend –≤—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏:

```
==================================================
üöÄ AI REELS SCRIPTER - BACKEND
==================================================
üì° –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: http://localhost:3001
üåê –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π frontend: http://localhost:5173
üîë API –∫–ª—é—á: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω
==================================================

üí° –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
   GET  /           - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
   GET  /api/health - –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
   POST /api/analyze - –ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ

‚ú® –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!

üìπ –ü–æ–ª—É—á–µ–Ω–æ –≤–∏–¥–µ–æ: test.mp4 (8.50 MB)
üìù MIME —Ç–∏–ø: video/mp4
üîÑ –í–∏–¥–µ–æ —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ base64
ü§ñ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ Google AI...
‚úÖ –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç Google AI (12.34 —Å–µ–∫)
üìä –î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞: 2543 —Å–∏–º–≤–æ–ª–æ–≤
‚úÖ JSON —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω
üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞:
   - –ö–ª—é—á–µ–π –∫ —É—Å–ø–µ—Ö—É: 5
   - –°—Ü–µ–Ω –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏: 5
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π: 4
   - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 12.34 —Å–µ–∫
```

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå "GOOGLE_AI_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:** 
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
GOOGLE_AI_API_KEY=AIzaSyB...
```

### ‚ùå "Port 3001 already in use"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# Mac/Linux - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å:
lsof -ti:3001 | xargs kill -9

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ .env:
PORT=3002
```

### ‚ùå CORS –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
```env
# –í .env –¥–æ–±–∞–≤—å—Ç–µ:
FRONTEND_URL=http://localhost:5173

# –ò–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö:
FRONTEND_URL=*
```

### ‚ùå Quota exceeded (Google AI)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–µ–≤—ã—à–µ–Ω –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç.

**–õ–∏–º–∏—Ç—ã:**
- Gemini 1.5 Flash: 15 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É, 1,500 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- Gemini 1.5 Pro: 2 –∑–∞–ø—Ä–æ—Å–∞/–º–∏–Ω—É—Ç—É, 50 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å

**–†–µ—à–µ–Ω–∏—è:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `gemini-1.5-flash` (–¥–µ—à–µ–≤–ª–µ)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ rate limiting
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω

---

## üí∞ –ö–≤–æ—Ç—ã –∏ —Ü–µ–Ω—ã Google AI

### –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω
- **Gemini 1.5 Flash:** 15 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É, 1,500 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- **Gemini 1.5 Pro:** 2 –∑–∞–ø—Ä–æ—Å–∞/–º–∏–Ω—É—Ç—É, 50 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å

### –ü–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω (Pay-as-you-go)
- Gemini 1.5 Flash: $0.00001875 –∑–∞ 1000 —Å–∏–º–≤–æ–ª–æ–≤
- –ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `gemini-1.5-flash` - –±—ã—Å—Ç—Ä–µ–µ –∏ –¥–µ—à–µ–≤–ª–µ.

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Google AI Studio](https://aistudio.google.com)
- [Gemini API Docs](https://ai.google.dev/gemini-api/docs)
- [Node.js Quickstart](https://ai.google.dev/tutorials/node_quickstart)
- [Express.js](https://expressjs.com/)
- [Multer](https://github.com/expressjs/multer)

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

AI Reels Scripter Team

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º"
3. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub

---

**–ì–æ—Ç–æ–≤–æ! Backend –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ
