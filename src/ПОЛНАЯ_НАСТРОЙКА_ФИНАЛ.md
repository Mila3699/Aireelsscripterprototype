# ‚úÖ –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ - –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

## üéØ 3 —à–∞–≥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ –∫–æ–¥–µ. –í–∞–º –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase.

---

## –®–∞–≥ 1Ô∏è‚É£: Email Confirmation (30 —Å–µ–∫)

### –û—Ç–∫—Ä–æ–π—Ç–µ:
https://supabase.com/dashboard/project/ssqcxrimivxqdydgmfcn/settings/auth

### –î–µ–π—Å—Ç–≤–∏–µ:
–ù–∞–π–¥–∏—Ç–µ **"Enable email confirmations"** ‚Üí –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –≤ **OFF** ‚Üí –ù–∞–∂–º–∏—Ç–µ **Save**

### –ó–∞—á–µ–º:
–ë–µ–∑ —ç—Ç–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ—à–∏–±–∫–∞ "Invalid login credentials")

‚úÖ **–ì–æ—Ç–æ–≤–æ!**

---

## –®–∞–≥ 2Ô∏è‚É£: Storage Bucket (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
**–ù–∏—á–µ–≥–æ!** Bucket —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ backend.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
https://supabase.com/dashboard/project/ssqcxrimivxqdydgmfcn/storage/buckets

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å bucket: **`make-f3dc28c4-videos`**

### –ï—Å–ª–∏ –Ω–µ—Ç:
1. New Bucket
2. Name: `make-f3dc28c4-videos`
3. Public: OFF
4. Create

‚úÖ **–ì–æ—Ç–æ–≤–æ!**

---

## –®–∞–≥ 3Ô∏è‚É£: Storage Policies (1 –º–∏–Ω—É—Ç–∞) ‚ö° –í–ê–ñ–ù–û

### –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor:
https://supabase.com/dashboard/project/ssqcxrimivxqdydgmfcn/sql/new

### –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- 1. –ó–∞–≥—Ä—É–∑–∫–∞
CREATE POLICY "Users can upload their own videos"
ON storage.objects FOR INSERT TO authenticated
WITH CHECK (
  bucket_id = 'make-f3dc28c4-videos' 
  AND (storage.foldername(name))[1] = auth.uid()::text
);

-- 2. –ü—Ä–æ—Å–º–æ—Ç—Ä
CREATE POLICY "Users can view their own videos"
ON storage.objects FOR SELECT TO authenticated
USING (
  bucket_id = 'make-f3dc28c4-videos'
  AND (storage.foldername(name))[1] = auth.uid()::text
);

-- 3. –£–¥–∞–ª–µ–Ω–∏–µ
CREATE POLICY "Users can delete their own videos"
ON storage.objects FOR DELETE TO authenticated
USING (
  bucket_id = 'make-f3dc28c4-videos'
  AND (storage.foldername(name))[1] = auth.uid()::text
);

-- 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
CREATE POLICY "Users can update their own videos"
ON storage.objects FOR UPDATE TO authenticated
USING (
  bucket_id = 'make-f3dc28c4-videos'
  AND (storage.foldername(name))[1] = auth.uid()::text
)
WITH CHECK (
  bucket_id = 'make-f3dc28c4-videos'
  AND (storage.foldername(name))[1] = auth.uid()::text
);
```

### –ù–∞–∂–º–∏—Ç–µ **"Run"**

### –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
Success. No rows returned
```

### –ó–∞—á–µ–º:
–ë–µ–∑ —ç—Ç–æ–≥–æ –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ—à–∏–±–∫–∞ "row-level security policy")

‚úÖ **–ì–æ—Ç–æ–≤–æ!**

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```
Email: test@test.com
Password: test123
‚Üí "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ Toast: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!"
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ
```
‚Üí Drag-and-drop –ª—é–±–æ–≥–æ –≤–∏–¥–µ–æ
‚Üí "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –î–µ–º–æ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 4 —Å–µ–∫
- ‚úÖ –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏—è üéâ

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
```
‚Üí –ö–Ω–æ–ø–∫–∞ ‚ù§Ô∏è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ Toast: "–°—Ü–µ–Ω–∞—Ä–∏–π —Å–æ—Ö—Ä–∞–Ω—ë–Ω!"
- ‚úÖ –°—á—ë—Ç—á–∏–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö +1

### 4. –ü–æ–∏—Å–∫
```
‚Üí –í–∫–ª–∞–¥–∫–∞ "–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ"
‚Üí –í–≤–µ–¥–∏—Ç–µ "—É—Å–ø–µ—Ö" –≤ –ø–æ–∏—Å–∫
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É
- ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ (F12)

### –•–æ—Ä–æ—à–∏–µ –ª–æ–≥–∏:
```
‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: test@test.com
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω: abc123...
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω
‚úÖ –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ: abc123/1699999999.mp4
‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω!
```

### –ü–ª–æ—Ö–∏–µ –ª–æ–≥–∏ –∏ —Ä–µ—à–µ–Ω–∏—è:

| –û—à–∏–±–∫–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|
| ‚ùå Invalid login credentials | –®–∞–≥ 1 –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω |
| ‚ùå Bucket not found | –®–∞–≥ 2: –ø–æ–¥–æ–∂–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é |
| ‚ùå row-level security policy | –®–∞–≥ 3 –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω |

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] **–®–∞–≥ 1:** Email Confirmation –æ—Ç–∫–ª—é—á–µ–Ω
- [ ] **–®–∞–≥ 2:** Bucket —Å–æ–∑–¥–∞–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ –≤—Ä—É—á–Ω—É—é)
- [ ] **–®–∞–≥ 3:** Storage Policies —Å–æ–∑–¥–∞–Ω—ã (SQL –≤—ã–ø–æ–ª–Ω–µ–Ω)
- [ ] **–¢–µ—Å—Ç 1:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–¢–µ—Å—Ç 2:** –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–¢–µ—Å—Ç 3:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–¢–µ—Å—Ç 4:** –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ï—Å–ª–∏ –≤—Å–µ ‚úÖ - **–≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

---

## üÜò –ü–æ–º–æ—â—å

### –û—à–∏–±–∫–∏:
- **Invalid credentials** ‚Üí `/–ë–´–°–¢–†–û–ï_–†–ï–®–ï–ù–ò–ï_AUTH.md`
- **Bucket not found** ‚Üí `/FIX_BUCKET_ERROR.md`
- **RLS policy** ‚Üí `/FIX_RLS_ERROR.md`
- **–í—Å–µ –æ—à–∏–±–∫–∏** ‚Üí `/–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–û–®–ò–ë–û–ö.md`

### SQL:
- **–ü–æ–ª–∏—Ç–∏–∫–∏** ‚Üí `/STORAGE_POLICIES.sql`

### –ë—ã—Å—Ç—Ä–æ:
- **Quick Fix** ‚Üí `/QUICK_FIX.md`
- **2 –º–∏–Ω—É—Ç—ã** ‚Üí `/–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢_–§–ò–ù–ê–õ–¨–ù–´–ô.md`

---

## ‚ú® –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç** –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ.

### –î–ª—è production:

1. **Google AI API:**
   - –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á
   - –î–æ–±–∞–≤—å—Ç–µ –≤ Supabase Environment Variables
   - –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤ backend

2. **SMTP Email:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ email –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
   - –í–∫–ª—é—á–∏—Ç–µ Email Confirmation

3. **Rate Limiting:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

4. **DRY —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –°–º. `/DRY_–ü–õ–ê–ù_–†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê.md`

---

## üéä –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **AI Reels Scripter** –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ 3 –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Supabase (2 –º–∏–Ω—É—Ç—ã).**

**–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ
